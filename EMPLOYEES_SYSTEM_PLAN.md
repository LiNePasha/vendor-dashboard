# ๐งโ๐ผ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู - ุฎุทุฉ ุงูุชูููุฐ ุงููุงููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูููุธููู ูุดูู ุงูุญุถูุฑ ูุงูุงูุตุฑุงูุ ุงููุฑุชุจุงุชุ ุงูุณููุ ูุงูุชูุงุฑูุฑ ุงูุชูุตูููุฉ.

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1๏ธโฃ **ุฅุฏุงุฑุฉ ุงูููุธููู (Employees Management)**
- โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
- โ ุชุนุฏูู ุจูุงูุงุช ุงูููุธู
- โ ุญุฐู/ุฅููุงู ููุธู
- โ ุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ
- โ ุงูุจุญุซ ูุงูููุชุฑุฉ
- โ ุนุฑุถ ุชูุงุตูู ุงูููุธู ุงููุงููุฉ

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```javascript
{
  id: "EMP-001",
  name: "ุฃุญูุฏ ูุญูุฏ",
  nationalId: "29901011234567",
  phone: "01012345678",
  email: "ahmed@example.com",
  address: "ุงููุงูุฑุฉุ ูุตุฑ ุงูุฌุฏูุฏุฉ",
  photo: "/employees/ahmed.jpg", // Cloudinary URL
  
  // ูุนูููุงุช ูุธูููุฉ
  jobTitle: "ููุธู ูุจูุนุงุช",
  department: "ุงููุจูุนุงุช",
  hireDate: "2024-01-15",
  status: "active", // active, inactive, suspended
  
  // ุงููุฑุชุจ
  basicSalary: 5000,
  allowances: 500, // ุจุฏูุงุช ุซุงุจุชุฉ
  
  // ุฅุนุฏุงุฏุงุช ุงูุญุถูุฑ
  workSchedule: {
    startTime: "09:00",
    endTime: "17:00",
    workDays: ["sunday", "monday", "tuesday", "wednesday", "thursday"], // ุฃูุงู ุงูุนูู
    gracePeriod: 15 // ูุชุฑุฉ ุงูุณูุงุญ ุจุงูุฏูุงุฆู
  },
  
  // ูุนูููุงุช ุฅุถุงููุฉ
  emergencyContact: {
    name: "ูุญูุฏ ุฃุญูุฏ",
    relation: "ุฃุจ",
    phone: "01098765432"
  },
  
  createdAt: "2024-01-15T10:00:00",
  updatedAt: "2024-01-15T10:00:00"
}
```

---

### 2๏ธโฃ **ูุธุงู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู (Attendance System)**

**โ๏ธ ุฃููููุฉ ูุตูู:** ูุฐุง ุงููุธุงู ูู **ุงูุฃุณุงุณ** - ูุฌุจ ุฃู ูููู ุฏูููุงู 100%

**ุงููููุฒุงุช:**
- ุชุณุฌูู ุญุถูุฑ (Check-in) ูุน ุงูููุช ูุงูุชุงุฑูุฎ **ุจุชูููุช ูุตุฑ**
- ุชุณุฌูู ุงูุตุฑุงู (Check-out)
- ุญุณุงุจ ุณุงุนุงุช ุงูุนูู ุงููุนููุฉ **ุจุฏูุฉ**
- ุชุชุจุน ุงูุชุฃุฎูุฑ ูุงูุงูุตุฑุงู ุงููุจูุฑ
- ูุธุงู ุงูุฃุฐููุงุช ูุงูุฅุฌุงุฒุงุช
- ุชุณุฌูู ุงูุบูุงุจ
- **ููุน ุงูุชุณุฌูู ุงูููุฑุฑ** (ูู ุณุฌู ุญุถูุฑ ูุฑุชูู ูู ููุณ ุงูููู)
- **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช** ูุจู ุงูุญูุธ

---

## ๐ฏ ูุธุงู Clock In/Out - ุงูุชูุงุตูู ุงููุงููุฉ

### ุงูููุงุนุฏ ุงูุฃุณุงุณูุฉ:

#### 1. **Check-in (ุชุณุฌูู ุงูุญุถูุฑ)**
```javascript
// ุงูุดุฑูุท:
โ ูุฌุจ ุฃู ูููู ูู ููู ุนูู (ุญุณุจ workDays)
โ ูุง ููุฌุฏ ุชุณุฌูู ุญุถูุฑ ุณุงุจู ูู ููุณ ุงูููู
โ ุงูููุช ููุณุฌู ุจุชูููุช ูุตุฑ ุงูุญุงูู
โ ูุง ูููู ุงูุชุณุฌูู ูู ุงููุงุถู (ุฅูุง ููู Admin ุจุตูุงุญูุฉ ุฎุงุตุฉ)
โ ูุง ูููู ุงูุชุณุฌูู ูุฑุชูู

// ุงูุญุณุงุจุงุช:
const workStartTime = "09:00"; // ูู ููู ุงูููุธู
const gracePeriod = 15; // ุฏูุงุฆู ุงูุณูุงุญ
const checkInTime = getCurrentEgyptTime();

// ุญุณุงุจ ุงูุชุฃุฎูุฑ
if (checkInTime > workStartTime + gracePeriod) {
  late = true;
  lateMinutes = calculateMinutesDiff(workStartTime, checkInTime);
}
```

#### 2. **Check-out (ุชุณุฌูู ุงูุงูุตุฑุงู)**
```javascript
// ุงูุดุฑูุท:
โ ูุฌุจ ุฃู ูููู ููุงู Check-in ูู ููุณ ุงูููู
โ ููุช ุงูุงูุตุฑุงู > ููุช ุงูุญุถูุฑ (ููุทูู)
โ ุงูููุช ููุณุฌู ุจุชูููุช ูุตุฑ ุงูุญุงูู
โ ูุง ูููู ุงูุงูุตุฑุงู ูุจู ุงูุญุถูุฑ
โ ูุง ูููู ุงูุงูุตุฑุงู ูุฑุชูู

// ุงูุญุณุงุจุงุช:
const workEndTime = "17:00"; // ูู ููู ุงูููุธู
const checkOutTime = getCurrentEgyptTime();

// ุญุณุงุจ ุงูุงูุตุฑุงู ุงููุจูุฑ
if (checkOutTime < workEndTime) {
  early = true;
  earlyMinutes = calculateMinutesDiff(checkOutTime, workEndTime);
}

// ุญุณุงุจ ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู
totalHours = calculateHoursDiff(checkInTime, checkOutTime);

// ุญุณุงุจ ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ
if (checkOutTime > workEndTime) {
  overtimeMinutes = calculateMinutesDiff(workEndTime, checkOutTime);
}
```

#### 3. **ุญุณุงุจุงุช ุงูููุช (ุฏูููุฉ ุจุฏูููุฉ)**
```javascript
// ุงุณุชุฎุฏุงู date-fns ููุฏูุฉ
import { 
  differenceInMinutes, 
  differenceInHours, 
  format,
  parse,
  isAfter,
  isBefore,
  isSameDay
} from 'date-fns';
import { utcToZonedTime, zonedTimeToUtc } from 'date-fns-tz';

const TIMEZONE = 'Africa/Cairo';

// ุงูุญุตูู ุนูู ุงูููุช ุงูุญุงูู ุจุชูููุช ูุตุฑ
function getCurrentEgyptTime() {
  const now = new Date();
  const egyptTime = utcToZonedTime(now, TIMEZONE);
  return egyptTime;
}

// ุชุญููู string ุฅูู Date ุจุชูููุช ูุตุฑ
function parseEgyptTime(dateString, timeString) {
  const combined = `${dateString} ${timeString}`;
  const date = parse(combined, 'yyyy-MM-dd HH:mm:ss', new Date());
  return utcToZonedTime(date, TIMEZONE);
}

// ุญุณุงุจ ูุฑู ุงูุฏูุงุฆู
function calculateMinutesDiff(time1, time2) {
  return Math.abs(differenceInMinutes(time2, time1));
}

// ุญุณุงุจ ูุฑู ุงูุณุงุนุงุช (ุจุงููุณูุฑ)
function calculateHoursDiff(time1, time2) {
  const minutes = differenceInMinutes(time2, time1);
  return (minutes / 60).toFixed(2);
}

// ุญุณุงุจ ุงูุชุฃุฎูุฑ
function calculateLateMinutes(workStartTime, actualCheckIn, gracePeriod = 15) {
  const [hours, minutes] = workStartTime.split(':');
  const today = format(new Date(), 'yyyy-MM-dd');
  
  // ููุช ุงูุจุฏุก ุงูููุชุฑุถ
  const scheduledStart = parseEgyptTime(today, `${hours}:${minutes}:00`);
  
  // ููุช ุงูุจุฏุก + ูุชุฑุฉ ุงูุณูุงุญ
  const graceEnd = new Date(scheduledStart.getTime() + gracePeriod * 60000);
  
  // ูู ุฌู ุจุนุฏ ูุชุฑุฉ ุงูุณูุงุญ
  if (isAfter(actualCheckIn, graceEnd)) {
    return differenceInMinutes(actualCheckIn, scheduledStart);
  }
  
  return 0;
}

// ุญุณุงุจ ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ
function calculateOvertimeMinutes(workEndTime, actualCheckOut) {
  const [hours, minutes] = workEndTime.split(':');
  const today = format(new Date(), 'yyyy-MM-dd');
  
  const scheduledEnd = parseEgyptTime(today, `${hours}:${minutes}:00`);
  
  // ูู ุงูุตุฑู ุจุนุฏ ุงูููุช ุงูุฑุณูู
  if (isAfter(actualCheckOut, scheduledEnd)) {
    return differenceInMinutes(actualCheckOut, scheduledEnd);
  }
  
  return 0;
}

// ุญุณุงุจ ุณุงุนุงุช ุงูุนูู ุงููุนููุฉ
function calculateActualWorkHours(checkIn, checkOut, lateMinutes = 0) {
  const totalMinutes = differenceInMinutes(checkOut, checkIn);
  
  // ุณุงุนุงุช ุงูุนูู = ุฅุฌูุงูู ุงูููุช - ููุช ุงูุชุฃุฎูุฑ
  const workMinutes = totalMinutes;
  const workHours = (workMinutes / 60).toFixed(2);
  
  return {
    totalMinutes,
    totalHours: workHours,
    regularHours: Math.min(8, parseFloat(workHours)), // max 8 ุณุงุนุงุช ุนุงุฏูุฉ
    overtimeHours: Math.max(0, parseFloat(workHours) - 8) // ุงูุจุงูู overtime
  };
}
```

#### 4. **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (Validation)**
```javascript
// ูุจู ุญูุธ ุฃู attendance record
async function validateAttendance(employeeId, date, type) {
  // 1. ุงูุชุญูู ูู ูุฌูุฏ ุงูููุธู
  const employee = await getEmployee(employeeId);
  if (!employee || employee.status !== 'active') {
    throw new Error('ุงูููุธู ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ูุดุท');
  }
  
  // 2. ุงูุชุญูู ูู ููู ุงูุนูู
  const dayName = format(date, 'EEEE').toLowerCase();
  if (!employee.workSchedule.workDays.includes(dayName)) {
    throw new Error('ูุฐุง ุงูููู ููุณ ููู ุนูู ููููุธู');
  }
  
  // 3. ุงูุชุญูู ูู ุนุฏู ุงูุชูุฑุงุฑ
  const existingRecord = await getAttendanceByDate(employeeId, date);
  
  if (type === 'check-in' && existingRecord?.checkIn) {
    throw new Error('ุชู ุชุณุฌูู ุงูุญุถูุฑ ูุณุจูุงู ููุฐุง ุงูููู');
  }
  
  if (type === 'check-out') {
    if (!existingRecord?.checkIn) {
      throw new Error('ูุฌุจ ุชุณุฌูู ุงูุญุถูุฑ ุฃููุงู');
    }
    if (existingRecord?.checkOut) {
      throw new Error('ุชู ุชุณุฌูู ุงูุงูุตุฑุงู ูุณุจูุงู ููุฐุง ุงูููู');
    }
  }
  
  return true;
}
```

#### 5. **ุณููุงุฑูููุงุช ุฎุงุตุฉ**

**ุงูุณููุงุฑูู 1: ุงูููุธู ูุณู Check-out**
```javascript
// ูู ุงูููู ุงูุชุงููุ ุงููุธุงู ููุชุดู ุงูุณุฌูุงุช ุงูููุชูุญุฉ
function detectMissingCheckouts() {
  const yesterday = subDays(new Date(), 1);
  const records = getAttendanceByDate(null, yesterday);
  
  return records.filter(r => r.checkIn && !r.checkOut);
}

// ุงูู Admin ููุฏุฑ ูุถูู Check-out ูุฏูู
async function manualCheckOut(recordId, checkOutTime, reason) {
  // ูุน ููุงุญุธุฉ ุชูุถุญ ุงูุณุจุจ
  await updateAttendance(recordId, {
    checkOut: {
      time: checkOutTime,
      manual: true,
      reason: reason,
      addedBy: 'Admin',
      addedAt: new Date()
    }
  });
}
```

**ุงูุณููุงุฑูู 2: ุงูููุธู ุฌู ูู ูุต ุงูููู (ุจุฅุฐู)**
```javascript
// ูู ุฌู ุงูุณุงุนุฉ 12 ุจุนุฏ ูุง ุงุฎุฏ ุฅุฐู ุงูุตุจุญ
{
  checkIn: {
    time: "12:00:00",
    late: false, // ูุด ูุชุฃุฎุฑ ูุฃู ูุนุงู ุฅุฐู
    permissionBefore: true,
    permissionHours: 3
  }
}
```

**ุงูุณููุงุฑูู 3: ุงูุนูู ูู ููู ุฅุฌุงุฒุฉ (ุฃููุฑ ุชุงูู)**
```javascript
// ูู ุงุดุชุบู ููู ุงูุฌูุนุฉ ูุซูุงู
{
  date: "2024-11-15", // Friday
  isHoliday: true,
  status: "overtime_day",
  totalHours: 8,
  overtimeHours: 8 // ูู ุงูุณุงุนุงุช overtime
}
```

---

### ูููู ุงูุจูุงูุงุช ุงููุงูู (ูุญุฏุซ)**
```javascript
{
  id: "ATT-20241115-001",
  employeeId: "EMP-001",
  date: "2024-11-15",
  dayName: "friday", // ุงุณู ุงูููู ุจุงูุฅูุฌููุฒู
  isWorkDay: true, // ููู ุนููุ
  
  checkIn: {
    time: "09:15:00", // HH:mm:ss
    timestamp: "2024-11-15T09:15:00+02:00", // โ๏ธ ุชูููุช ูุตุฑ UTC+2
    localTime: "09:15:00", // ุงูููุช ุงููุญูู
    late: true,
    lateMinutes: 15, // ุฏูุงุฆู ุงูุชุฃุฎูุฑ (ุจุนุฏ ูุชุฑุฉ ุงูุณูุงุญ)
    gracePeriodUsed: 15, // ูุชุฑุฉ ุงูุณูุงุญ ุงููุณุชุฎุฏูุฉ
    note: "", // ููุงุญุธุฉ ุงุฎุชูุงุฑูุฉ (ุนุฐุฑ ูุซูุงู)
    recordedBy: "self", // self, admin, manager
    method: "manual" // manual, biometric, qr_code (ูููุณุชูุจู)
  },
  
  checkOut: {
    time: "17:05:00",
    timestamp: "2024-11-15T17:05:00+02:00", // โ๏ธ ุชูููุช ูุตุฑ UTC+2
    localTime: "17:05:00", // ุงูููุช ุงููุญูู
    early: false,
    earlyMinutes: 0,
    recordedBy: "self",
    method: "manual"
  },
  
  // ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ (Auto-calculated)
  calculations: {
    totalMinutes: 470, // ุฅุฌูุงูู ุงูุฏูุงุฆู (ูู Check-in ูู Check-out)
    totalHours: 7.83, // 7 ุณุงุนุงุช ู50 ุฏูููุฉ
    regularHours: 7.75, // ุณุงุนุงุช ุงูุนูู ุงูุนุงุฏูุฉ (8 - 0.25 ุชุฃุฎูุฑ)
    overtimeMinutes: 5, // ุฏูุงุฆู ุฅุถุงููุฉ
    overtimeHours: 0.08, // ุณุงุนุงุช ุฅุถุงููุฉ
    
    // Break time (ูููุณุชูุจู)
    breakMinutes: 0,
    actualWorkMinutes: 470
  },
  
  status: "present", // present, absent, permission, sick_leave, annual_leave, holiday
  
  // ูู ุญุงูุฉ ุงูุฅุฐู ุฃู ุงูุฅุฌุงุฒุฉ
  permissionDetails: null,
  /*
  permissionDetails: {
    type: "permission",
    hours: 2,
    reason: "ุธุฑูู ุฎุงุตุฉ",
    approvedBy: "Manager"
  }
  */
  
  // ููุงุญุธุงุช ุฅุฏุงุฑูุฉ
  adminNotes: "",
  
  // Flags ูููุฉ
  flags: {
    missingCheckOut: false, // ูู ูุณู ุงูุงูุตุฑุงู
    manualEntry: false, // ูู ุงุชุณุฌู ูุฏูู ูู Admin
    edited: false, // ูู ุงุชุนุฏู ุจุนุฏ ุงูุชุณุฌูู
    disputed: false // ูู ุงูููุธู ุงุนุชุฑุถ ุนูู ุงูุณุฌู
  },
  
  timezone: "Africa/Cairo", // โ๏ธ ุชูููุช ูุตุฑ
  createdAt: "2024-11-15T09:15:00+02:00",
  updatedAt: "2024-11-15T17:05:00+02:00",
  createdBy: "EMP-001", // ูู ุณุฌู
  updatedBy: null
}
```

---

### ูุงุฌูุฉ ุชุณุฌูู ุงูุญุถูุฑ (ูุญุฏุซุฉ ููุฏูุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โฐ ุชุณุฌูู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                     โ
โ  ๐ ุงูุฎููุณุ 15 ููููุจุฑ 2024                          โ
โ  ๐ ุงูููุช ุงูุญุงูู: 09:17:32 ุตุจุงุญุงู (ุชูููุช ูุตุฑ)     โ
โ                                                     โ
โ  โโโโโโโโโโโ ุงุฎุชุฑ ุงูููุธู โโโโโโโโโโโ               โ
โ  โ ๐ [ุงุจุญุซ ุนู ููุธู...]           โ               โ
โ  โ                                 โ               โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ               โ
โ  โ โ ๐ท ุฃุญูุฏ ูุญูุฏ - EMP-001      โ โ               โ
โ  โ โ    ููุธู ูุจูุนุงุช              โ โ               โ
โ  โ โ                              โ โ               โ
โ  โ โ ๐ ูุนูููุงุช ุงูุฏูุงู:          โ โ               โ
โ  โ โ    โฐ ุงูุจุฏุก: 09:00 ุตุจุงุญุงู    โ โ               โ
โ  โ โ    ๐ ุงูุงูุชูุงุก: 05:00 ูุณุงุกู  โ โ               โ
โ  โ โ    โฑ๏ธ ูุชุฑุฉ ุงูุณูุงุญ: 15 ุฏูููุฉ โ โ               โ
โ  โ โ                              โ โ               โ
โ  โ โ โ๏ธ ุชูุจูู: ูุชุฃุฎุฑ 17 ุฏูููุฉ!   โ โ               โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ                                                     โ
โ  โโโโโ ุญุงูุฉ ุงูุญุถูุฑ ุงูููู โโโโโ                     โ
โ  โ โ ูู ูุณุฌู ุญุถูุฑ ุจุนุฏ        โ                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                     โ
โ                                                     โ
โ  ููุน ุงูุชุณุฌูู:                                       โ
โ  โ ุชุณุฌูู ุญุถูุฑ (Check-in)                           โ
โ  โ ุชุณุฌูู ุงูุตุฑุงู (Check-out)                        โ
โ  โ ุฅุฐู/ุบูุงุจ                                        โ
โ                                                     โ
โ  โฐ ุงูููุช ุงููุณุฌู: 09:17:32 (ุชููุงุฆู)               โ
โ                                                     โ
โ  ๐ฌ ููุงุญุธุฉ (ุงุฎุชูุงุฑู - ุนุฐุฑ ุงูุชุฃุฎูุฑ):                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ ุฒุญูุฉ ูุฑูุฑ ุดุฏูุฏุฉ                         โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                                                     โ
โ  โ๏ธ ุณูุชู ุชุณุฌูู:                                    โ
โ  โข ููุช ุงูุญุถูุฑ: 09:17:32                           โ
โ  โข ุงูุชุฃุฎูุฑ: 17 ุฏูููุฉ (ุจุนุฏ ูุชุฑุฉ ุงูุณูุงุญ)            โ
โ  โข ุงูููุงุญุธุฉ: ุฒุญูุฉ ูุฑูุฑ ุดุฏูุฏุฉ                      โ
โ                                                     โ
โ  [โ ุฅูุบุงุก]                        [โ ุชุฃููุฏ]      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### ุฃูุซูุฉ ูุงูุนูุฉ ููุญุณุงุจุงุช:

**ูุซุงู 1: ููู ุนุงุฏู ุจุฏูู ูุดุงูู**
```javascript
Check-in:  09:05 (ูุชุฃุฎุฑ 5 ุฏูุงุฆูุ ููู ุถูู ูุชุฑุฉ ุงูุณูุงุญ)
Check-out: 17:10

ุงููุชูุฌุฉ:
- late: false (ุถูู ูุชุฑุฉ ุงูุณูุงุญ)
- totalHours: 8.08 ุณุงุนุฉ
- regularHours: 8 ุณุงุนุงุช
- overtimeMinutes: 10 ุฏูุงุฆู
- Status: โ ููู ุนุงุฏู
```

**ูุซุงู 2: ุชุฃุฎูุฑ + ุงูุตุฑุงู ูุจูุฑ**
```javascript
Check-in:  09:30 (ูุชุฃุฎุฑ 30 ุฏูููุฉ)
Check-out: 16:45 (ูุจูุฑ 15 ุฏูููุฉ)

ุงููุชูุฌุฉ:
- late: true
- lateMinutes: 30
- early: true  
- earlyMinutes: 15
- totalHours: 7.25 ุณุงุนุฉ
- regularHours: 7.25 ุณุงุนุฉ
- Status: โ๏ธ ุชุฃุฎูุฑ + ุงูุตุฑุงู ูุจูุฑ
```

**ูุซุงู 3: ุณุงุนุงุช ุฅุถุงููุฉ**
```javascript
Check-in:  09:00
Check-out: 19:00 (ุจุนุฏ ุงูุฏูุงู ุจุณุงุนุชูู)

ุงููุชูุฌุฉ:
- late: false
- totalHours: 10 ุณุงุนุงุช
- regularHours: 8 ุณุงุนุงุช
- overtimeHours: 2 ุณุงุนุฉ
- Status: โญ ุณุงุนุงุช ุฅุถุงููุฉ
```

**ูุซุงู 4: ูุณู Check-out**
```javascript
Check-in:  09:00
Check-out: null

ูู ุงูููู ุงูุชุงูู:
- ุงููุธุงู ููุชุดู ุงูุณุฌู ุงูููุชูุญ
- Admin ูุถูู Check-out ูุฏูู: 17:00
- flags.manualEntry: true
- flags.missingCheckOut: true
- adminNotes: "ุชู ุฅุถุงูุฉ ุงูุงูุตุฑุงู ูุฏููุงู - ูุณู ุงูุชุณุฌูู"
```
```

**ุฃููุงุน ุงูุญุงูุงุช:**
- `present` - ุญุงุถุฑ
- `absent` - ุบุงุฆุจ
- `permission` - ุฅุฐู (ุจุนุฐุฑ)
- `sick_leave` - ุฅุฌุงุฒุฉ ูุฑุถูุฉ
- `annual_leave` - ุฅุฌุงุฒุฉ ุณูููุฉ
- `day_off` - ููู ุฑุงุญุฉ

---

### 3๏ธโฃ **ูุธุงู ุงููุฑุชุจุงุช (Payroll System)**

**โ๏ธ ููู ุฌุฏุงู:** ุงููุธุงู **ูุง ูุฎุตู ุชููุงุฆูุงู**! ูู ููุท **ูุณุงุนุฏ ูููุชุฑุญ**ุ ูุงูู Admin ูู ุงููุชุญูู ุงููุงูู.

**ุงูููููุงุช:**
1. **ุงูุฑุงุชุจ ุงูุฃุณุงุณู** (Basic Salary) - ูู ููู ุงูููุธู
2. **ุงูุจุฏูุงุช ุงูุซุงุจุชุฉ** (Fixed Allowances) - ูู ููู ุงูููุธู
3. **ุงูุจููุต ูุงูุญูุงูุฒ** (Bonuses & Incentives) - **ูุฏุฎููุง Admin ูุฏููุงู**
4. **ุงูุฎุตููุงุช** (Deductions) - **ูุฏุฎููุง Admin ูุฏููุงู**:
   - ุฎุตู ุงูุชุฃุฎูุฑ (ุงููุธุงู ููุชุฑุญ ููุท)
   - ุฎุตู ุงูุบูุงุจ (ุงููุธุงู ููุชุฑุญ ููุท)
   - ุฎุตู ุงูุณูู (ููุนุฑุถ ุชููุงุฆูุงูุ ููู Admin ููุงูู)
   - ุฎุตููุงุช ุฃุฎุฑู (ุญุณุจ ุงูุญุงุฌุฉ)
5. **ุตุงูู ุงููุฑุชุจ** (Net Salary) - ููุญุณุจ ุชููุงุฆูุงู ุจุนุฏ ุฅุฏุฎุงู ุงูุจูุงูุงุช

**ูููู ูุดู ุงูุฑุงุชุจ ุงูุดูุฑู:**
```javascript
{
  id: "PAY-202411-001",
  employeeId: "EMP-001",
  month: 11,
  year: 2024,
  period: "2024-11-01 to 2024-11-30",
  
  // ุงูุญุถูุฑ (ููุนุฑุถ ูุงููุฑุงุฌุนุฉ ููุท - ูุง ูุคุซุฑ ุชููุงุฆูุงู)
  attendanceSummary: {
    totalWorkDays: 26,
    presentDays: 24,
    absentDays: 2,
    lateDays: 5,
    totalLateMinutes: 75,
    permissionDays: 1,
    sickLeaveDays: 0,
    annualLeaveDays: 0
  },
  
  // ุงูููุชุฑุญุงุช (suggestions only - Admin ููุฑุฑ)
  suggestions: {
    absentDeduction: 384.62, // ุงูุชุฑุงุญ: (5000 / 26) * 2
    lateDeduction: 50, // ุงูุชุฑุงุญ: ุญุณุจ ุงูุณูุงุณุฉ
    advanceDeduction: 1000, // ูู ุงูุณูู ุงููุณุชุญูุฉ
    bonusSuggestion: 0 // ุงูุชุฑุงุญ ุจููุต (ูู ูู)
  },
  
  // ุงูุฑุงุชุจ (Admin ูุฏุฎูู/ูุนุฏูู)
  earnings: {
    basicSalary: 5000, // ูู ููู ุงูููุธู
    allowances: 500, // ูู ููู ุงูููุธู
    bonuses: 300, // ๐ Admin ุฃุฏุฎููุง ูุฏูู
    overtimePay: 0, // ๐ Admin ุฃุฏุฎููุง ูุฏูู
    total: 5800
  },
  
  // ุงูุฎุตููุงุช (Admin ูุฏุฎููุง/ูุนุฏููุง)
  deductions: {
    absentDeduction: 384.62, // ๐ Admin ุฃุฏุฎููุง (ุฃู ูุงูู ุนูู ุงูุงูุชุฑุงุญ)
    lateDeduction: 50, // ๐ Admin ุฃุฏุฎููุง (ุฃู ูุงูู ุนูู ุงูุงูุชุฑุงุญ)
    advanceDeduction: 1000, // ๐ Admin ูุงูู ุนูู ุฎุตู ุงูุณููุฉ
    otherDeductions: 0, // ๐ Admin ุฃุฏุฎููุง (ุฎุตููุงุช ุฅุถุงููุฉ)
    total: 1434.62
  },
  
  // ุงูุตุงูู (ุญุณุงุจ ุชููุงุฆู)
  netSalary: 4365.38,
  
  status: "pending", // pending, paid
  paidDate: null,
  paymentMethod: null, // cash, bank_transfer
  
  notes: "ุชู ุฎุตู ุงูุชุฃุฎูุฑ ุจุนุฏ ุงููุฑุงุฌุนุฉ", // ๐ Admin ููุชุจ ููุงุญุธุงุช
  
  createdBy: "Admin Name",
  createdAt: "2024-11-30T10:00:00",
  updatedAt: "2024-11-30T10:00:00"
}
```

---

### 4๏ธโฃ **ูุธุงู ุงูุณูู ูุงููุฑูุถ (Advances & Loans)**

```javascript
{
  id: "ADV-20241115-001",
  employeeId: "EMP-001",
  type: "advance", // advance (ุณููุฉ), loan (ูุฑุถ)
  
  amount: 1000,
  reason: "ุธุฑูู ุฎุงุตุฉ",
  requestDate: "2024-11-15",
  approvedDate: "2024-11-15",
  
  // ุงูุชูุณูุท
  installments: {
    total: 2, // ุนุฏุฏ ุงูุฃูุณุงุท
    amount: 500, // ูููุฉ ุงููุณุท
    paid: 0, // ุนุฏุฏ ุงูุฃูุณุงุท ุงููุฏููุนุฉ
    remaining: 2
  },
  
  status: "approved", // pending, approved, rejected, completed
  approvedBy: "Admin",
  
  // ุชุชุจุน ุงูุฎุตู ูู ุงูุฑุงุชุจ
  deductions: [
    {
      payrollId: "PAY-202411-001",
      amount: 500,
      date: "2024-11-30"
    }
  ],
  
  createdAt: "2024-11-15T10:00:00",
  updatedAt: "2024-11-15T10:00:00"
}
```

---

### 5๏ธโฃ **ูุธุงู ุงูุฃุฐููุงุช ูุงูุฅุฌุงุฒุงุช (Permissions & Leaves)**

```javascript
{
  id: "LEAVE-20241115-001",
  employeeId: "EMP-001",
  type: "permission", // permission, sick_leave, annual_leave
  
  startDate: "2024-11-15",
  endDate: "2024-11-15",
  duration: 1, // ุนุฏุฏ ุงูุฃูุงู
  hours: 3, // ูู ุญุงูุฉ ุงูุฅุฐู ุจุงูุณุงุนุงุช
  
  reason: "ุธุฑูู ุทุงุฑุฆุฉ",
  
  status: "approved", // pending, approved, rejected
  approvedBy: "Manager",
  approvedDate: "2024-11-15",
  
  // ุฎุตู ูู ุงูุฑุงุชุจุ
  deductFromSalary: false,
  
  createdAt: "2024-11-15T08:00:00",
  updatedAt: "2024-11-15T09:00:00"
}
```

---

### 6๏ธโฃ **ุงูุชูุงุฑูุฑ (Reports)**

#### ุชูุฑูุฑ ุงูุญุถูุฑ ุงูุดูุฑู
- ุนุฏุฏ ุฃูุงู ุงูุญุถูุฑ/ุงูุบูุงุจ ููู ููุธู
- ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู
- ุนุฏุฏ ูุฑุงุช ุงูุชุฃุฎูุฑ
- ุงูุฅุฌุงุฒุงุช ูุงูุฃุฐููุงุช

#### ุชูุฑูุฑ ุงููุฑุชุจุงุช
- ุฅุฌูุงูู ุงููุฑุชุจุงุช ุงููุฏููุนุฉ
- ุงููุฑุชุจุงุช ุงููุนููุฉ
- ุงูุฎุตููุงุช ูุงูุจููุต
- ุตุงูู ุงููุตุฑููุงุช ุนูู ุงูููุธููู

#### ุชูุฑูุฑ ุงูุณูู
- ุฅุฌูุงูู ุงูุณูู ุงููุฏููุนุฉ
- ุงูุณูู ุงูุฌุงุฑูุฉ
- ุงููุชุญุตูุงุช ูู ุงูุณูู

#### ุชูุฑูุฑ ุงูุฃุฏุงุก
- ุฃูุซุฑ ุงูููุธููู ุงูุชุฒุงูุงู
- ุงูููุธููู ุงููุชุฃุฎุฑูู ุจุงุณุชูุฑุงุฑ
- ูุนุฏู ุงูุญุถูุฑ ููู ููุธู

---

## ๐๏ธ ูููู ุงููููุงุช (File Structure)

```
app/
โโโ employees/
โ   โโโ page.js                      # ๐ ูุงุฆูุฉ ุงูููุธููู
โ   โโโ add/
โ   โ   โโโ page.js                  # โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
โ   โโโ [id]/
โ   โ   โโโ page.js                  # ๐ค ุชูุงุตูู ุงูููุธู
โ   โ   โโโ edit/
โ   โ       โโโ page.js              # โ๏ธ ุชุนุฏูู ุจูุงูุงุช ุงูููุธู
โ   โโโ attendance/
โ   โ   โโโ page.js                  # ๐ ุณุฌู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู
โ   โ   โโโ record/
โ   โ       โโโ page.js              # โ ุชุณุฌูู ุญุถูุฑ/ุงูุตุฑุงู
โ   โโโ payroll/
โ   โ   โโโ page.js                  # ๐ฐ ูุงุฆูุฉ ุงููุฑุชุจุงุช
โ   โ   โโโ generate/
โ   โ   โ   โโโ page.js              # ๐งฎ ุชูููุฏ ูุดูู ุงูุฑูุงุชุจ
โ   โ   โโโ [id]/
โ   โ       โโโ page.js              # ๐ ูุดู ุฑุงุชุจ ููุธู
โ   โโโ advances/
โ   โ   โโโ page.js                  # ๐ต ุงูุณูู ูุงููุฑูุถ
โ   โ   โโโ request/
โ   โ       โโโ page.js              # ๐ ุทูุจ ุณููุฉ ุฌุฏูุฏุฉ
โ   โโโ leaves/
โ   โ   โโโ page.js                  # ๐๏ธ ุงูุฅุฌุงุฒุงุช ูุงูุฃุฐููุงุช
โ   โ   โโโ request/
โ   โ       โโโ page.js              # ๐ ุทูุจ ุฅุฌุงุฒุฉ/ุฅุฐู
โ   โโโ reports/
โ       โโโ page.js                  # ๐ ุงูุชูุงุฑูุฑ ุงูุฑุฆูุณูุฉ
โ       โโโ attendance/
โ       โ   โโโ page.js              # ๐ ุชูุฑูุฑ ุงูุญุถูุฑ
โ       โโโ payroll/
โ       โ   โโโ page.js              # ๐ ุชูุฑูุฑ ุงููุฑุชุจุงุช
โ       โโโ performance/
โ           โโโ page.js              # ๐ ุชูุฑูุฑ ุงูุฃุฏุงุก
โ
โโโ stores/
โ   โโโ employees-store.js           # ๐๏ธ Zustand Global State
โ
โโโ lib/
โ   โโโ employees-storage.js         # ๐พ LocalForage Storage Manager
โ
โโโ api/
    โโโ employees/
        โโโ route.js                 # API ููููุธููู
        โโโ attendance/
        โ   โโโ route.js             # API ููุญุถูุฑ
        โโโ payroll/
        โ   โโโ route.js             # API ูููุฑุชุจุงุช
        โโโ advances/
            โโโ route.js             # API ููุณูู

components/
โโโ employees/
โ   โโโ EmployeeCard.js              # ๐ด ูุงุฑุฏ ุงูููุธู
โ   โโโ EmployeeForm.js              # ๐ ููุฑู ุฅุถุงูุฉ/ุชุนุฏูู ููุธู
โ   โโโ EmployeeDetailsCard.js       # ๐ ุชูุงุตูู ุงูููุธู
โ   โโโ AttendanceCalendar.js        # ๐ ุชูููู ุงูุญุถูุฑ
โ   โโโ AttendanceForm.js            # โ ุชุณุฌูู ุญุถูุฑ/ุงูุตุฑุงู
โ   โโโ AttendanceTable.js           # ๐ ุฌุฏูู ุณุฌู ุงูุญุถูุฑ
โ   โโโ PayrollCalculator.js         # ๐งฎ ุญุงุณุจุฉ ุงููุฑุชุจ
โ   โโโ SalarySlip.js                # ๐ ูุดู ุงูุฑุงุชุจ (ููุทุจุงุนุฉ)
โ   โโโ AdvanceForm.js               # ๐ต ุทูุจ ุณููุฉ
โ   โโโ AdvanceCard.js               # ๐ณ ูุงุฑุฏ ุงูุณููุฉ
โ   โโโ LeaveRequestForm.js          # ๐๏ธ ุทูุจ ุฅุฌุงุฒุฉ/ุฅุฐู
โ   โโโ LeaveCard.js                 # ๐ ูุงุฑุฏ ุงูุฅุฌุงุฒุฉ
โ   โโโ ReportCard.js                # ๐ ูุงุฑุฏ ุชูุฑูุฑ
โ   โโโ EmployeeStats.js             # ๐ ุฅุญุตุงุฆูุงุช ุงูููุธู
```

---

## ๐พ LocalForage Storage Structure

```javascript
// employees-storage.js
import localforage from 'localforage';

// Employees Store
const employeesDB = localforage.createInstance({
  name: 'Spare2App',
  storeName: 'employees'
});

// Attendance Store
const attendanceDB = localforage.createInstance({
  name: 'Spare2App',
  storeName: 'attendance'
});

// Payroll Store
const payrollDB = localforage.createInstance({
  name: 'Spare2App',
  storeName: 'payroll'
});

// Advances Store
const advancesDB = localforage.createInstance({
  name: 'Spare2App',
  storeName: 'advances'
});

// Leaves Store
const leavesDB = localforage.createInstance({
  name: 'Spare2App',
  storeName: 'leaves'
});

export const employeesStorage = {
  // Employees
  saveEmployee: async (employee) => { },
  getEmployee: async (id) => { },
  getAllEmployees: async () => { },
  deleteEmployee: async (id) => { },
  
  // Attendance
  saveAttendance: async (attendance) => { },
  getAttendance: async (id) => { },
  getAttendanceByEmployee: async (employeeId, month, year) => { },
  getAttendanceByDate: async (date) => { },
  
  // Payroll
  savePayroll: async (payroll) => { },
  getPayroll: async (id) => { },
  getPayrollByEmployee: async (employeeId, month, year) => { },
  getAllPayrolls: async (month, year) => { },
  
  // Advances
  saveAdvance: async (advance) => { },
  getAdvance: async (id) => { },
  getAdvancesByEmployee: async (employeeId) => { },
  getAllAdvances: async () => { },
  
  // Leaves
  saveLeave: async (leave) => { },
  getLeave: async (id) => { },
  getLeavesByEmployee: async (employeeId) => { },
  getAllLeaves: async () => { }
};
```

---

## ๐๏ธ Zustand State Management

```javascript
// employees-store.js
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

const useEmployeesStore = create(
  persist(
    (set, get) => ({
      // State
      employees: [],
      selectedEmployee: null,
      attendance: [],
      payrolls: [],
      advances: [],
      leaves: [],
      
      loading: false,
      
      // Employees Actions
      addEmployee: (employee) => set((state) => ({
        employees: [...state.employees, employee]
      })),
      
      updateEmployee: (id, updates) => set((state) => ({
        employees: state.employees.map(emp => 
          emp.id === id ? { ...emp, ...updates } : emp
        )
      })),
      
      deleteEmployee: (id) => set((state) => ({
        employees: state.employees.filter(emp => emp.id !== id)
      })),
      
      setSelectedEmployee: (employee) => set({ selectedEmployee: employee }),
      
      // Attendance Actions
      addAttendance: (attendance) => set((state) => ({
        attendance: [...state.attendance, attendance]
      })),
      
      updateAttendance: (id, updates) => set((state) => ({
        attendance: state.attendance.map(att => 
          att.id === id ? { ...att, ...updates } : att
        )
      })),
      
      // Payroll Actions
      generatePayroll: async (employeeId, month, year) => {
        // ุญุณุงุจ ุงูุฑุงุชุจ ุจูุงุกู ุนูู ุงูุญุถูุฑ
        const employee = get().employees.find(e => e.id === employeeId);
        const attendanceRecords = get().attendance.filter(a => 
          a.employeeId === employeeId && 
          new Date(a.date).getMonth() + 1 === month &&
          new Date(a.date).getFullYear() === year
        );
        
        // ุญุณุงุจ ุชูุตููู...
        // return payroll object
      },
      
      addPayroll: (payroll) => set((state) => ({
        payrolls: [...state.payrolls, payroll]
      })),
      
      // Advances Actions
      addAdvance: (advance) => set((state) => ({
        advances: [...state.advances, advance]
      })),
      
      updateAdvance: (id, updates) => set((state) => ({
        advances: state.advances.map(adv => 
          adv.id === id ? { ...adv, ...updates } : adv
        )
      })),
      
      // Leaves Actions
      addLeave: (leave) => set((state) => ({
        leaves: [...state.leaves, leave]
      })),
      
      updateLeave: (id, updates) => set((state) => ({
        leaves: state.leaves.map(lv => 
          lv.id === id ? { ...lv, ...updates } : lv
        )
      })),
      
      // Helpers
      getEmployeeStats: (employeeId, month, year) => {
        const attendance = get().attendance.filter(a => 
          a.employeeId === employeeId &&
          new Date(a.date).getMonth() + 1 === month &&
          new Date(a.date).getFullYear() === year
        );
        
        return {
          totalDays: attendance.length,
          presentDays: attendance.filter(a => a.status === 'present').length,
          absentDays: attendance.filter(a => a.status === 'absent').length,
          lateDays: attendance.filter(a => a.checkIn?.late).length,
          // ... more stats
        };
      }
    }),
    {
      name: 'employees-storage',
      partialize: (state) => ({
        employees: state.employees,
        attendance: state.attendance,
        payrolls: state.payrolls,
        advances: state.advances,
        leaves: state.leaves
      })
    }
  )
);

export default useEmployeesStore;
```

---

## ๐จ UI/UX Design

### Dashboard ุงูููุธููู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐งโ๐ผ ูุธุงู ุงูููุธููู                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                     โ
โ  ๐ ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ                              โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ
โ  โ ๐ฅ 25    โ โ โ 23    โ โ โฐ 2     โ โ ๐ฐ 125K โโ
โ  โ ููุธู    โ โ ุญุงุถุฑ     โ โ ุบุงุฆุจ     โ โ ูุฑุชุจุงุช  โโ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ
โ                                                     โ
โ  ๐ [ุจุญุซ ุนู ููุธู...]              [โ ููุธู ุฌุฏูุฏ]    โ
โ                                                     โ
โ  โโโโโโโโโโโโโโโ ูุงุฆูุฉ ุงูููุธููู โโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ท ุฃุญูุฏ ูุญูุฏ      ููุธู ูุจูุนุงุช    โ ุญุงุถุฑ       โ โ
โ  โ    EMP-001        5000 ุฌ.ู       09:15        โ โ
โ  โ                                                โ โ
โ  โ ๐ท ูุญูุฏ ุนูู       ูุญุงุณุจ          โ ุบุงุฆุจ       โ โ
โ  โ    EMP-002        6000 ุฌ.ู       --:--        โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุตูุญุฉ ุชุณุฌูู ุงูุญุถูุฑ
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ุชุณุฌูู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                     โ
โ  ๐ ุงูุฎููุณุ 15 ููููุจุฑ 2024        ๐ 09:15 ุตุจุงุญุงู  โ
โ                                                     โ
โ  โโโโโโโโโโโ ุงุฎุชุฑ ุงูููุธู โโโโโโโโโโโ               โ
โ  โ ๐ [ุงุจุญุซ ุนู ููุธู...]           โ               โ
โ  โ                                 โ               โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ               โ
โ  โ โ ๐ท ุฃุญูุฏ ูุญูุฏ - EMP-001      โ โ               โ
โ  โ โ    ููุธู ูุจูุนุงุช              โ โ               โ
โ  โ โ    โฐ ุงูููุฑูุถ: 09:00         โ โ               โ
โ  โ โ    โ๏ธ ูุชุฃุฎุฑ 15 ุฏูููุฉ!        โ โ               โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ                                                     โ
โ  ููุน ุงูุชุณุฌูู:                                       โ
โ  โ ุญุถูุฑ (Check-in)                                 โ
โ  โ ุงูุตุฑุงู (Check-out)                              โ
โ  โ ุฅุฐู                                             โ
โ  โ ุบูุงุจ                                            โ
โ                                                     โ
โ  ููุงุญุธุงุช (ุงุฎุชูุงุฑู):                                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ ุฒุญูุฉ ุนูู ุงูุทุฑูู                         โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                                                     โ
โ  ๐ก ููุญูุธุฉ: ุงูุชุฃุฎูุฑ ููุณุฌู ููุทุ ููุง ููุฎุตู ุชููุงุฆูุงู โ
โ                                                     โ
โ  [ุฅูุบุงุก]                          [โ ุชุณุฌูู]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุตูุญุฉ ุชูููุฏ ุงููุฑุชุจ (ูุจู ุงูุทุจุงุนุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฐ ุชูููุฏ ุฑุงุชุจ: ุฃุญูุฏ ูุญูุฏ - ููููุจุฑ 2024            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                     โ
โ  ๐ ููุฎุต ุงูุญุถูุฑ (ูููุฑุงุฌุนุฉ ููุท):                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โข ุฅุฌูุงูู ุฃูุงู ุงูุนูู: 26 ููู                       โ
โ  โข โ ุฃูุงู ุงูุญุถูุฑ: 24 ููู                          โ
โ  โข โ ุฃูุงู ุงูุบูุงุจ: 2 ููู                           โ
โ  โข โฐ ุงูุชุฃุฎูุฑ: 5 ูุฑุงุช (75 ุฏูููุฉ)                   โ
โ  โข ๐๏ธ ุงูุฅุฌุงุฒุงุช: 1 ููู (ุจุนุฐุฑ)                      โ
โ                                                     โ
โ  ๐ก ุงูููุชุฑุญุงุช ุงูุชููุงุฆูุฉ (ูููู ุงูุชุนุฏูู):            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โข ุฎุตู ุงูุบูุงุจ ุงูููุชุฑุญ: 384.62 ุฌ.ู                 โ
โ  โข ุฎุตู ุงูุชุฃุฎูุฑ ุงูููุชุฑุญ: 50.00 ุฌ.ู                 โ
โ  โข ุงูุณููุฉ ุงููุณุชุญูุฉ: 1,000.00 ุฌ.ู                  โ
โ                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                     โ
โ  ๐ต ุงููุณุชุญูุงุช:                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  ุงูุฑุงุชุจ ุงูุฃุณุงุณู:              5,000.00 ุฌ.ู         โ
โ  ุงูุจุฏูุงุช ุงูุซุงุจุชุฉ:                500.00 ุฌ.ู         โ
โ  ุงูุจููุต:              [_____] ๐ก 0.00 (ุงูุชุฑุงุญ)     โ
โ  ุณุงุนุงุช ุฅุถุงููุฉ:        [_____]                     โ
โ                                                     โ
โ  ๐ธ ุงูุฎุตููุงุช (ุฃุฏุฎููุง ูุฏููุงู):                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  ุฎุตู ุงูุบูุงุจ:          [_____] ๐ก 384.62 (ุงูุชุฑุงุญ)  โ
โ  ุฎุตู ุงูุชุฃุฎูุฑ:         [_____] ๐ก 50.00 (ุงูุชุฑุงุญ)   โ
โ  ุงูุณููุฉ:              [1000_] โ (ูุญุณูุจุฉ)          โ
โ  ุฎุตููุงุช ุฃุฎุฑู:         [_____]                     โ
โ                                                     โ
โ  ๐ ููุงุญุธุงุช ุฅุถุงููุฉ:                                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ                                          โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  ๐ฐ ุตุงูู ุงููุฑุชุจ: 4,365.38 ุฌ.ู (ุญุณุงุจ ุชููุงุฆู)       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                     โ
โ  [โ ุฅูุบุงุก]  [๐พ ุญูุธ ููุณูุฏุฉ]  [โ ุงุนุชูุงุฏ ูุทุจุงุนุฉ]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ูุดู ุงูุฑุงุชุจ (ููุทุจุงุนุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ๐ ูุดู ุฑุงุชุจ ุดูุฑ ููููุจุฑ 2024            โ
โ                   Spare2App Store                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                     โ
โ  ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ               ุงูููุฏ: EMP-001     โ
โ  ุงููุธููุฉ: ููุธู ูุจูุนุงุช           ุงููุณู: ุงููุจูุนุงุช    โ
โ  ุชุงุฑูุฎ ุงูุชุนููู: 15/01/2024                         โ
โ                                                     โ
โ  โโโโโโโโโโโโโ ุงูุญุถูุฑ ูุงูุบูุงุจ โโโโโโโโโโโโโ        โ
โ  โ ุฅุฌูุงูู ุฃูุงู ุงูุนูู:           26 ููู  โ        โ
โ  โ ุฃูุงู ุงูุญุถูุฑ:                  24 ููู  โ        โ
โ  โ ุฃูุงู ุงูุบูุงุจ:                   2 ููู  โ        โ
โ  โ ุนุฏุฏ ูุฑุงุช ุงูุชุฃุฎูุฑ:              5 ูุฑุงุช โ        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ                                                     โ
โ  โโโโโโโโโโโโโ ุงููุณุชุญูุงุช โโโโโโโโโโโโโโโโโโ        โ
โ  โ ุงูุฑุงุชุจ ุงูุฃุณุงุณู:           5,000.00 ุฌ.ูโ        โ
โ  โ ุงูุจุฏูุงุช:                     500.00 ุฌ.ูโ        โ
โ  โ ุงูุจููุต:                      300.00 ุฌ.ูโ        โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ        โ
โ  โ ุฅุฌูุงูู ุงููุณุชุญูุงุช:         5,800.00 ุฌ.ูโ        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ                                                     โ
โ  โโโโโโโโโโโโโ ุงูุฎุตููุงุช โโโโโโโโโโโโโโโโโโโ        โ
โ  โ ุฎุตู ุงูุบูุงุจ (2 ููู):         384.62 ุฌ.ูโ        โ
โ  โ ุฎุตู ุงูุชุฃุฎูุฑ:                 50.00 ุฌ.ูโ        โ
โ  โ ุงูุณููุฉ:                   1,000.00 ุฌ.ูโ        โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ        โ
โ  โ ุฅุฌูุงูู ุงูุฎุตููุงุช:         1,434.62 ุฌ.ูโ        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ  โ ๐ฐ ุตุงูู ุงููุฑุชุจ:      4,365.38 ุฌ.ู     โ        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ                                                     โ
โ  ุงูุชูููุน: _______________    ุงูุชุงุฑูุฎ: __/__/____   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ูุฑุงุญู ุงูุชูููุฐ (Implementation Phases)

### ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณูุงุช (Week 1)
- โ ุฅูุดุงุก ูููู ุงููููุงุช
- โ ุฅุนุฏุงุฏ LocalForage Storage
- โ ุฅุนุฏุงุฏ Zustand Store
- โ **ุชุซุจูุช `date-fns` ู `date-fns-tz` ููุชุนุงูู ูุน ุงูุชูููุช ุงููุตุฑู**
- โ ุฅูุดุงุก Helper Functions ููุชูููุช
- โ ุตูุญุฉ ูุงุฆูุฉ ุงูููุธููู
- โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
- โ ุนุฑุถ ุชูุงุตูู ููุธู
- โ ุชุนุฏูู ุจูุงูุงุช ููุธู

### ุงููุฑุญูุฉ 2: ูุธุงู ุงูุญุถูุฑ (Week 2)
- โ ุตูุญุฉ ุชุณุฌูู ุญุถูุฑ/ุงูุตุฑุงู (ุจุชูููุช ูุตุฑ)
- โ ุณุฌู ุงูุญุถูุฑ ุงูุดูุฑู
- โ ุชูููู ุงูุญุถูุฑ
- โ ุญุณุงุจ ุณุงุนุงุช ุงูุนูู ูุงูุชุฃุฎูุฑ (ุจูุงุกู ุนูู ุงูุชูููุช ุงููุญูู)
- โ ุนุฑุถ ุงูุฃููุงุช ุจุตูุบุฉ ุนุฑุจูุฉ ูุน ุชูููุช ูุตุฑ

### ุงููุฑุญูุฉ 3: ูุธุงู ุงููุฑุชุจุงุช (Week 3)
- โ ุญุงุณุจุฉ ุงููุฑุชุจุงุช
- โ ุชูููุฏ ูุดูู ุงูุฑูุงุชุจ ุชููุงุฆูุงู
- โ ูุดู ุฑุงุชุจ ูุงุจู ููุทุจุงุนุฉ
- โ ุณุฌู ุงููุฑุชุจุงุช ุงููุฏููุนุฉ

### ุงููุฑุญูุฉ 4: ุงูุณูู ูุงูุฅุฌุงุฒุงุช (Week 4)
- โ ุทูุจ ุณููุฉ ุฌุฏูุฏุฉ
- โ ุฅุฏุงุฑุฉ ุงูุณูู ูุงูุชูุณูุท
- โ ุทูุจ ุฅุฌุงุฒุฉ/ุฅุฐู
- โ ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช

### ุงููุฑุญูุฉ 5: ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช (Week 5)
- โ ุชูุฑูุฑ ุงูุญุถูุฑ ุงูุดูุฑู
- โ ุชูุฑูุฑ ุงููุฑุชุจุงุช
- โ ุชูุฑูุฑ ุงูุณูู
- โ ุชูุฑูุฑ ุงูุฃุฏุงุก
- โ Dashboard ูุชูุฏู

### ุงููุฑุญูุฉ 6: ุชุญุณููุงุช ูููุฒุงุช ุฅุถุงููุฉ (Week 6)
- โ ุฑูุน ุตูุฑ ุงูููุธููู (Cloudinary)
- โ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ (Excel/PDF)
- โ ูุธุงู ุงูุฅุดุนุงุฑุงุช
- โ ุชุญุณููุงุช ุงูู UI/UX

---

## ๐ง ุญุณุงุจุงุช ูููุฉ (ูููุณุงุนุฏุฉ ููุท - ููุณุช ุชููุงุฆูุฉ)

**โ๏ธ ููุงุญุธุฉ:** ูุฐู ุงูุญุณุงุจุงุช **ููุชุฑุญุงุช ููุท**ุ ุงููุธุงู ูุนุฑุถูุง ููู Admin ููุฑุงุฌุนูุง ูููุฑุฑ.

### ุญุณุงุจ ุฎุตู ุงูุบูุงุจ ุงูููุชุฑุญ
```javascript
// ุงููุธุงู ูุญุณุจ ููุนุฑุถ ูู "suggestion"
const dailySalary = basicSalary / totalWorkDays;
const suggestedAbsentDeduction = dailySalary * absentDays;

// Admin ูุฑุงุฌุน ูููุฑุฑ:
// 1. ููุงูู ุนูู ุงูููุชุฑุญ
// 2. ูุนุฏูู (ูุฎูู ุฃู ูุฒูุฏ)
// 3. ููุบูู (ุจุนุฐุฑ ูุซูุงู)
```

### ุญุณุงุจ ุฎุตู ุงูุชุฃุฎูุฑ ุงูููุชุฑุญ
```javascript
// ูุซุงู: ุฎุตู 10 ุฌููู ููู 15 ุฏูููุฉ ุชุฃุฎูุฑ
const suggestedLateDeduction = Math.ceil(totalLateMinutes / 15) * 10;

// Admin ูู ุงูุญุฑูุฉ ุงููุงููุฉ ูู ุงูุชุนุฏูู
```

### ุญุณุงุจ ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ ุงูููุชุฑุญ
```javascript
// ูุซุงู: 1.5x ููุณุงุนุงุช ุงูุฅุถุงููุฉ
const overtimeRate = (basicSalary / totalWorkDays / 8) * 1.5;
const suggestedOvertimePay = overtimeHours * overtimeRate;

// Admin ูุฏุฎู ุงููููุฉ ุงูููุงุฆูุฉ ูุฏููุงู
```

### โ๏ธ ูุนุงูุฌุฉ ุงูุชูููุช (ููู ุฌุฏุงู)
```javascript
// ุนูุฏ ุชุณุฌูู ุงูุญุถูุฑ/ุงูุงูุตุฑุงู
const now = new Date();

// ุชุญููู ููุชูููุช ุงููุญูู (ูุตุฑ UTC+2)
const egyptTime = new Date(now.toLocaleString('en-US', { 
  timeZone: 'Africa/Cairo' 
}));

// ุฃู ุจุงุณุชุฎุฏุงู date-fns-tz
import { utcToZonedTime, format } from 'date-fns-tz';

const timezone = 'Africa/Cairo';
const localTime = utcToZonedTime(new Date(), timezone);
const formattedTime = format(localTime, 'yyyy-MM-dd HH:mm:ss', { timezone });

// ุญุณุงุจ ุงูุชุฃุฎูุฑ ุจูุงุกู ุนูู ุงูุชูููุช ุงููุญูู
const workStartTime = new Date(`${date} 09:00:00`); // ุจุชูููุช ูุตุฑ
const checkInTime = egyptTime;
const lateMinutes = (checkInTime - workStartTime) / (1000 * 60);
```

### ุญุณุงุจ ุตุงูู ุงููุฑุชุจ (ุชููุงุฆู ุจุนุฏ ุงูุฅุฏุฎุงู)
```javascript
// ูุฐุง ููุท ููุญุณุจ ุชููุงุฆูุงู ุจุนุฏ ูุง Admin ูุฏุฎู ูู ุงูุจูุงูุงุช
const totalEarnings = basicSalary + allowances + bonuses + overtimePay;
const totalDeductions = absentDeduction + lateDeduction + advanceDeduction + otherDeductions;
const netSalary = totalEarnings - totalDeductions;

// ูุนุฑุถ ูุจุงุดุฑุฉ ููู Admin ูุจู ุงูุญูุธ
```

---

## ๐ฑ Integration ูุน ุงูุฃูุธูุฉ ุงูุญุงููุฉ

### 1. ุฑุจุท ูุน ูุธุงู ุงูููุงุชูุฑ
- ุฅุถุงูุฉ "ุจุงุฆุน" ูู ุจูุงูุงุช ุงููุงุชูุฑุฉ ูู ูุงุฆูุฉ ุงูููุธููู
- ุชุชุจุน ูุจูุนุงุช ูู ููุธู
- ุงุญุชุณุงุจ ุนูููุฉ ุงููุจูุนุงุช ูู ุงููุฑุชุจ

### 2. ุฑุจุท ูุน ูุธุงู POS
- ุชุณุฌูู ุงูููุธู ุงููุงุฆู ุจุงูุจูุน
- ุชุชุจุน ุงูุฃุฏุงุก ุงููููู

### 3. Dashboard ุงูุฑุฆูุณู
- ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ุงูููุธููู
- ุนุฏุฏ ุงูุญุงุถุฑูู ุงูููู
- ุงููุฑุชุจุงุช ุงููุณุชุญูุฉ ูุฐุง ุงูุดูุฑ

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ูุณุชููุงุช ุงูุตูุงุญูุงุช (ูููุณุชูุจู)
1. **Admin** - ุตูุงุญูุงุช ูุงููุฉ
2. **Manager** - ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูุญุถูุฑ ูุงููุฑุชุจุงุช
3. **HR** - ุงูููุธููู ูุงูุญุถูุฑ ููุท
4. **Accountant** - ุงููุฑุชุจุงุช ูุงูุณูู ููุท
5. **Employee** - ุนุฑุถ ุจูุงูุงุชู ููุท

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **โฐ ุงูุชูููุช (ููู ุฌุฏุงู)**:
   - ูู ุงูุชูุงุฑูุฎ ูุงูุฃููุงุช ุจุชูููุช ูุตุฑ (`Africa/Cairo` - UTC+2)
   - ุงุณุชุฎุฏุงู `date-fns-tz` ููุชุนุงูู ูุน ุงูููุงุทู ุงูุฒูููุฉ
   - ุชุณุฌูู ุงูุญุถูุฑ/ุงูุงูุตุฑุงู ุจุงูููุช ุงููุญูู
   - ุญุณุงุจ ุงูุชุฃุฎูุฑ ุจูุงุกู ุนูู ุงูุชูููุช ุงููุตุฑู
   - ุนุฑุถ ูู ุงูุฃููุงุช ูู ุงูุชูุงุฑูุฑ ุจุชูููุช ูุตุฑ
   
2. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ููุถู export ุงูุจูุงูุงุช ุฏูุฑูุงู

3. **ุงูุตูุฑ**: ุงุณุชุฎุฏุงู Cloudinary ููุตูุฑ ุงูุดุฎุตูุฉ

4. **ุงูุทุจุงุนุฉ**: ูุดูู ุงูุฑูุงุชุจ ูุงุจูุฉ ููุทุจุงุนุฉ ุจุชุตููู ุงุญุชุฑุงูู

5. **ุงูุชูุงุฑูุฑ**: ุฅููุงููุฉ ุชุตุฏูุฑ Excel/PDF

6. **โ๏ธ ููู ุฌุฏุงู**: ุงููุธุงู **ูุง ูุฎุตู ุชููุงุฆูุงู** ุฃู ูุจุงูุบ ูู ุงููุฑุชุจุงุช
   - ูุณุฌู ุงูุญุถูุฑ ูุงูุบูุงุจ ููุท
   - ูุนุฑุถ ููุชุฑุญุงุช ููุฎุตููุงุช
   - **ุงูู Admin** ูู ูู ููุฑุฑ ููุฏุฎู ุงูููู ุงูููุงุฆูุฉ
   
7. **ุงููุฑููุฉ ุงููุงููุฉ**: Admin ููุฏุฑ ูุนุฏู/ููุบู ุฃู ููุชุฑุญ

8. **ุงูุดูุงููุฉ**: ูู ูุดู ุฑุงุชุจ ููู ุชูุงุตูู ูุงุถุญุฉ ูููุงุญุธุงุช

---

## โ Checklist ููุจุฏุก

- [ ] ูุฑุงุฌุนุฉ ุงูุฎุทุฉ ูุงูููุงููุฉ ุนูููุง
- [ ] ุชุญุฏูุฏ ุฃููููุงุช ุงูููุฒุงุช
- [ ] ุฅูุดุงุก ุงููููู ุงูุฃุณุงุณู ูููููุงุช
- [ ] ุฅุนุฏุงุฏ LocalForage ู Zustand
- [ ] ุงูุจุฏุก ุจุงููุฑุญูุฉ ุงูุฃููู: ุงูุฃุณุงุณูุงุช

---

## ๐ฏ ุงููุฏู ุงูููุงุฆู

ูุธุงู ูุชูุงูู ูุณูู ุงูุงุณุชุฎุฏุงู ูุฅุฏุงุฑุฉ ุงูููุธููู ูููุฑ:
- **ููุช**: ุฃุชูุชุฉ ุญุณุงุจ ุงููุฑุชุจุงุช ูุงูุญุถูุฑ
- **ุฏูุฉ**: ุญุณุงุจุงุช ุฏูููุฉ ุจุฏูู ุฃุฎุทุงุก ุจุดุฑูุฉ
- **ุดูุงููุฉ**: ูู ููุธู ูุนุฑู ุฑุงุชุจู ูุชูุงุตููู
- **ุงุญุชุฑุงููุฉ**: ูุธุงู enterprise-grade ุจุชูููุงุช ุญุฏูุซุฉ

---

**ูู ุฃูุช ุฌุงูุฒ ููุจุฏุกุ** ๐

ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุฎุทุฉ ูุฅุฎุจุงุฑู ุจุฃู ุชุนุฏููุงุช ุฃู ุฅุถุงูุงุช ุชุฑูุฏูุง ูุจู ุงูุจุฏุก ูู ุงูุชูููุฐ!
